<script setup>
import "../../assets/css/layouts/_navbar.scss";
import {ref} from "vue";

const navbarLinks = [
  { id: 1, name: "Qui suis-je ?", href: "#about" },
  { id: 2, name: "Mes talents", href: "#skills" },
  { id: 3, name: "Mes fiertÃ©s", href: "#realisations" },
  { id: 4, name: "Contactes moi !", href: "#contact" },
];
const burgerOpened = ref(false);

function toggleBurger() {
  if(window.innerWidth > 992) return;

  burgerOpened.value = !burgerOpened.value;
  document.body.style.overflow = burgerOpened.value ? "hidden" : "auto";
}
</script>

<template>
  <header class="navbar">
    <div class="navbar__burger-container">
      <button
          :class="[
          'navbar__burger',
          { 'navbar__burger--opened': burgerOpened },
        ]"
        @click="toggleBurger"
      >
      <span class="burger-icon">
        <svg class="burger-icon__top"  xmlns="http://www.w3.org/2000/svg" width="29" height="4" viewBox="0 0 29 4" fill="none">
          <path d="M0.57964 2.65087C0.9086 2.81217 1.26515 2.90979 1.62807 2.93951L2.22868 2.9862C3.1519 3.05836 4.10482 3.13052 5.04713 3.13052H5.26785C7.0506 3.10929 8.86307 3.06685 10.6161 3.0244C12.9422 2.97346 15.3489 2.91828 17.711 2.90555C21.0961 2.89069 24.4982 2.50231 27.7857 2.12878L27.8918 2.11604C28.0989 2.07644 28.2968 1.99872 28.4755 1.88683C28.5964 1.82316 28.7301 1.75313 28.8999 1.6746C28.9292 1.6605 28.9541 1.63856 28.9717 1.61122C28.9893 1.58387 28.999 1.55219 28.9997 1.51967C29.0003 1.48686 28.9914 1.45456 28.9741 1.42669C28.9568 1.39881 28.9318 1.37656 28.902 1.36262C28.7511 1.28792 28.6025 1.20865 28.4564 1.12492C28.2574 0.990371 28.0338 0.896596 27.7984 0.849017L27.1511 0.770491C25.8947 0.619806 24.598 0.462754 23.3118 0.409695C16.3931 0.118937 9.36394 0.390595 2.56826 0.653763L1.35004 0.700454C1.16533 0.707959 0.981862 0.734271 0.802484 0.77898C0.597201 0.817459 0.409619 0.920619 0.267179 1.07337C0.12474 1.22612 0.0349183 1.42044 0.0108571 1.62791C-0.0201371 1.83725 0.0188038 2.05096 0.121641 2.23592C0.224478 2.42087 0.385466 2.56673 0.57964 2.65087Z" fill="#282826"/>
        </svg>
        <svg class="burger-icon__middle" xmlns="http://www.w3.org/2000/svg" width="30" height="4" viewBox="0 0 30 4" fill="none">
          <path d="M0.620494 2.4373C0.615386 2.6209 0.66229 2.80221 0.755794 2.9603C0.849298 3.1184 0.985592 3.24683 1.14895 3.3308C1.42485 3.46663 1.72835 3.54727 2.03608 3.5685C2.45998 3.59693 2.88464 3.6125 3.30948 3.61519C3.52171 3.61519 3.73819 3.60882 3.95254 3.59609C5.2323 3.52393 6.53116 3.43691 7.78758 3.35202C10.1434 3.19497 12.5755 3.03367 14.9695 2.94878C18.2294 2.83842 21.5063 2.43942 24.677 2.05104L27.1665 1.74966L27.3681 1.73056C27.8541 1.686 28.459 1.63081 29.0766 0.96865C29.0959 0.948339 29.1097 0.923533 29.1169 0.896492C29.1244 0.869374 29.125 0.840826 29.1187 0.813413C29.1124 0.786 29.0994 0.760581 29.0808 0.739439C29.0631 0.718165 29.0406 0.70143 29.0151 0.690626C27.8881 0.225838 26.914 0.162168 25.9313 0.134578L25.0718 0.10911C22.3573 0.0305837 19.5495 -0.0521861 16.7777 0.0560523C12.1171 0.234327 7.552 0.688503 2.49663 1.21908C2.0218 1.27099 1.55907 1.40228 1.12773 1.60747C0.97355 1.68333 0.844052 1.80137 0.754268 1.94788C0.664484 2.09439 0.618097 2.26336 0.620494 2.43517V2.4373Z" fill="#282826"/>
        </svg>
        <svg class="burger-icon__bottom" xmlns="http://www.w3.org/2000/svg" width="28" height="4" viewBox="0 0 28 4" fill="none">
          <path d="M0.00934187 2.25342C-0.0670618 2.74156 0.334057 3.30397 0.887984 3.47588C1.17662 3.56502 1.47587 3.61808 1.77936 3.63081L2.53703 3.66052C3.12703 3.68811 3.73402 3.7157 4.33888 3.7157C4.58083 3.7157 4.82489 3.70934 5.06684 3.69873C6.24473 3.64991 7.4396 3.57351 8.59626 3.50135C9.98002 3.41434 11.4126 3.32307 12.8197 3.27426C16.4871 3.14692 20.1672 2.64393 23.7284 2.1558L24.189 2.09212C25.0774 1.97968 25.9622 1.83954 26.8419 1.6719C27.1815 1.6146 27.6908 1.52759 27.8224 0.750818C27.8293 0.708854 27.8205 0.665821 27.7979 0.629848C27.7752 0.593875 27.7401 0.567451 27.6993 0.555565C27.6158 0.530913 27.533 0.504021 27.451 0.474916C27.2922 0.413238 27.1259 0.373261 26.9565 0.356067L26.4195 0.324231C25.1613 0.24314 23.9019 0.182294 22.6418 0.141712C19.0683 0.0431387 15.492 0.135237 11.9283 0.417615C9.63196 0.604379 7.29316 0.757184 5.03288 0.903625C3.88683 0.977906 2.7429 1.05219 1.59684 1.13071C1.35197 1.14164 1.10949 1.18372 0.87525 1.25593C0.650412 1.32157 0.449212 1.45052 0.29567 1.62739C0.142127 1.80427 0.0427287 2.02159 0.00934187 2.25342Z" fill="#282826"/>
        </svg>
      </span>
      </button>
    </div>
    <nav
        :class="[
          'navbar__nav',
          { 'navbar__nav--opened': burgerOpened },
        ]"
    >
      <a href="#hero" class="navbar__logo">
        <img src="../../assets/imgs/logo.svg" alt="Logo" />
      </a>
      <ul class="navbar__list">
        <li
            v-for="link in navbarLinks"
            :key="link.id"
            class="navbar__item"
        >
          <a
            :href="link.href"
            class="navbar__link"
            @click="toggleBurger"
          >
            {{ link.name }}
          </a>
        </li>
      </ul>
    </nav>
  </header>
</template>